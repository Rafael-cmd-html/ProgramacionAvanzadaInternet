<!DOCTYPE html>

<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>V-model: suma de dos numeros</title>

    <! -Vinculamos al cdn de vue -->

    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>

</head>

<body>

    <div id="aplicacion"> 

        <!- Creamos un modelo de input number (Un modificador que convierte 
        automaticamente a numero lo puesto en un input) --> 

        <!- Le pedimos al usuario que ingrese los valores a sumar -->

        Valor A: <br/>
        <input v-model.number="valorA" type="number" step="1" /> <br/>

        Valor B: <br/>
        <input v-model.number="valorB" type="number" step="1" /> <br/>

        <!- Invocamos la funcion con el h1 y creamos un botón para realizar la acción -->
        <input type="button" v-on:click="suma" value="Sumar"> <br/> <br/>
        <h1> {{  resultado }}</h1>

        <hr>

        <!- Form nos crea un formulario donde damos dos textfield con un nombre, al igual que un botón -->
        <form>

            <fieldset>
                <legend>Nombre</legend>

                <!- Los input los creamos como v-model para que mandemos los valores a las variables de la función -->

                <input v-model="nombre" type="text">
            </fieldset>

            <fieldset>
                <legend>Apellido(s)</legend>
                <input v-model="apellido" type="text">
            </fieldset>
            <hr>
            <input type="button" v-on:click="addPerson" value="Añadir persona">

            <ul>

                <li v-for="item in persons">

                    {{item.name}} - {{item.lastName}}

                </li>

            </ul>

        </form>
       
    </div>
    
    <script type="text/javascript">

        //Instancia de vue
         new Vue({

            //Referencia hacia el elemento div 
            el:"#aplicacion",

            data:{

                //Declaramos nuestras variables para los valores
                valorA:0,
                valorB:0,
                resultado:"",
                nombre:"",
                apellido:"",
                persons:[],

            }, 

            //Comenzamos a crear metodos, en este caso solo el de la suma.
            //Se usa la coma para hacer distinción de propiedad en propiedad.

            methods: {

                suma:function(event){

                    //Hacemos que nos retorne el resultado
                    mensaje="La suma de sus valores es: "+(this.valorA + this.valorB);
                    this.resultado=mensaje;

                },
                //Nueva función, para añadir personas a una lista
                addPerson: function(event){

                    let person={
                        name:this.nombre,
                        lastName: this.apellido
                    }
                    this.persons.push(person);

                }

            },

         })

    </script>
</body>
</html>